(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(13),c=n.n(o),r=(n(121),n(17)),s=n(4),l=(n(122),n(182)),d=n(183),u=n(139),h=n(92),j=n.n(h),p=n(148),b=n(6),f=Object(p.a)({appBarStyles:{backgroundColor:"#000"},typographyStyles:{flex:1}}),m=function(){var e=f();return Object(b.jsx)(l.a,{position:"static",className:e.appBarStyles,children:Object(b.jsxs)(d.a,{children:[Object(b.jsx)(u.a,{className:e.typographyStyles,children:"this is the Navbar"}),Object(b.jsx)(j.a,{})]})})},O=n(189),g=n(53),x=n(186),y=n(37),v=n(25),S=(Object(v.a)((function(e){return{dataGrid:{backgroundColor:"#222",marginBottom:"32px"}}})),[{field:"firstname",headerName:"First Name",width:250},{field:"lastname",headerName:"Last Name",width:250},{field:"email",headerName:"Email",width:400},{field:"is_valid",headerName:"Email verifier",width:200}]);function T(e){var t=e.users,n=e.handleAccepter,i=e.handleDelete,o=Object(a.useState)([]),c=Object(s.a)(o,2),r=c[0],l=c[1],d=Object(a.useState)();return Object(b.jsxs)("div",{style:{height:400,margin:"auto"},children:[Object(b.jsx)("h2",{children:"Users list to accept : "}),Object(b.jsx)(g.a,{rows:t,columns:S,pageSize:5,checkboxSelection:!0,onSelectionModelChange:function(e){return l(e.selectionModel.map((function(e){return parseInt(e)})))},className:d.dataGrid}),Object(b.jsxs)(x.a,{color:"primary","aria-label":"outlined primary button group",style:{marginTop:"15px"},children:[Object(b.jsx)(y.a,{variant:"contained",color:"secondary",style:{marginRight:"15px"},onClick:function(){return i(r)},disabled:!(r.length>0),children:"delete"}),Object(b.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){return n(r)},disabled:!(r.length>0),children:"accepter"})]})]})}var N=n(190),C=n(187),w=n(188),R=n(184),E=[{field:"name",headerName:"Reservation name",width:200},{field:"size",headerName:"Reservation size",width:200}],k=Object(v.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),width:"375px"},formGroup:{marginBottom:"32px"},button:{backgroundColor:"blue",color:"#fff"},formTitle:{textAlign:"center"}}}));function L(e){var t=e.resType,n=e.resErrMess,i=e.resIsLoading,o=e.addNewReservationType,c=e.updateNewReservationType,r=e.deleteReservationType,l=Object(a.useState)([]),d=Object(s.a)(l,2),u=d[0],h=d[1],j=Object(a.useState)(!1),p=Object(s.a)(j,2),f=p[0],m=p[1],O=Object(a.useState)(!1),v=Object(s.a)(O,2),S=v[0],T=v[1],L=k(),z=Object(a.useState)(""),A=Object(s.a)(z,2),D=A[0],M=A[1],I=Object(a.useState)(0),J=Object(s.a)(I,2),B=J[0],G=J[1],P=function(){m(!1)},U=function(e){M(e.target.value)},F=function(e){G(e.target.value)},_=function(){T(!1)};return i?Object(b.jsx)("div",{children:"reserbvation type is loading ...."}):null!=n?Object(b.jsx)("div",{children:n}):Object(b.jsxs)("div",{style:{height:400,margin:"auto"},children:[Object(b.jsx)("h2",{children:"Reservation Type : "}),Object(b.jsx)(g.a,{rows:t,columns:E,pageSize:5,checkboxSelection:!0,onSelectionModelChange:function(e){return h(e.selectionModel.map((function(e){return parseInt(e)})))}}),Object(b.jsx)(N.a,{open:f,className:L.modal,onClose:P,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(b.jsx)(C.a,{in:f,className:L.paper,children:Object(b.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){o(D,B,(function(){return P()})),M(""),G(0),e.preventDefault()},children:[Object(b.jsx)("div",{className:L.formTitle,children:Object(b.jsx)("h3",{children:"add Reservation Type"})}),Object(b.jsx)(w.a,{className:L.formGroup,children:Object(b.jsx)(R.a,{id:"standard-basic2",name:"name",type:"text",label:"name",value:D,onChange:U,placeholder:"reservation type name"})}),Object(b.jsx)(w.a,{className:L.formGroup,children:Object(b.jsx)(R.a,{id:"standard-basic",label:"Size",name:"size",value:B,type:"number",onChange:F,placeholder:"reservation type size"})}),Object(b.jsx)(w.a,{className:L.button,children:Object(b.jsx)(y.a,{type:"submit",color:"inherit",children:"add"})})]})})}),Object(b.jsx)(N.a,{open:S,className:L.modal,onClose:_,children:Object(b.jsx)(C.a,{in:S,className:L.paper,children:Object(b.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){c(u[0],D,B,(function(){return _()})),M(""),G(0),e.preventDefault()},children:[Object(b.jsx)("div",{className:L.formTitle,children:Object(b.jsx)("h3",{children:"update Reservation Type"})}),Object(b.jsx)(w.a,{className:L.formGroup,children:Object(b.jsx)(R.a,{id:"standard-basic2",name:"name",type:"text",label:"name",value:D,onChange:U,placeholder:"reservation type name"})}),Object(b.jsx)(w.a,{className:L.formGroup,children:Object(b.jsx)(R.a,{id:"standard-basic",label:"Size",name:"size",value:B,type:"number",onChange:F,placeholder:"reservation type size"})}),Object(b.jsx)(w.a,{className:L.button,children:Object(b.jsx)(y.a,{type:"submit",color:"inherit",children:"add"})})]})})}),Object(b.jsxs)(x.a,{color:"primary","aria-label":"outlined primary button group",style:{marginTop:"15px"},children:[Object(b.jsx)(y.a,{variant:"contained",color:"secondary",style:{marginRight:"15px"},disabled:!(u.length>0),onClick:function(){return r(u)},children:"delete"}),Object(b.jsx)(y.a,{variant:"contained",color:"primary",style:{marginRight:"15px"},onClick:function(){m(!0)},children:"add"}),Object(b.jsx)(y.a,{variant:"contained",color:"default",style:{marginRight:"15px"},disabled:1!=u.length,onClick:function(){if(T(!0),1==u.length){var e=u[0],n=t.filter((function(t){return t.id===e})),a=1==n.length?n[0]:null;null!=a&&(M(a.name),G(a.size))}},children:"UPDATE"})]})]})}var z=[{field:"date",headerName:"Date",width:250},{field:"is_accepted",headerName:"Reservation accepter",width:250},{field:"user",headerName:"Owner",width:300,valueGetter:function(e){return e.row.user.firstname+" "+e.row.user.lastname}}];function A(e){var t=e.reservation,n=e.resIsLoading,i=e.resErrMess,o=e.handleReservationDeletion,c=e.handleReservationAcceptation,r=Object(a.useState)([]),l=Object(s.a)(r,2),d=l[0],u=l[1];return n?Object(b.jsx)("div",{children:"reservation is Loading..."}):null!=i?Object(b.jsx)("div",{children:i}):Object(b.jsxs)("div",{style:{height:400,margin:"auto"},children:[Object(b.jsx)("h2",{children:"Reservation List: "}),Object(b.jsx)(g.a,{rows:t,columns:z,pageSize:5,checkboxSelection:!0,onSelectionModelChange:function(e){return u(e.selectionModel.map((function(e){return parseInt(e)})))}}),Object(b.jsxs)(x.a,{color:"primary","aria-label":"outlined primary button group",style:{marginTop:"15px"},children:[Object(b.jsx)(y.a,{variant:"contained",color:"secondary",style:{marginRight:"15px"},disabled:!(d.length>0),onClick:function(){return o(d)},children:"delete"}),Object(b.jsx)(y.a,{variant:"contained",color:"primary",disabled:!(d.length>0),onClick:function(){return c(d)},children:"accepter"})]})]})}var D=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(null),c=Object(s.a)(o,2),l=c[0],d=c[1],u=Object(a.useState)(!0),h=Object(s.a)(u,2),j=h[0],p=h[1],f=Object(a.useState)([]),g=Object(s.a)(f,2),x=g[0],y=g[1],v=Object(a.useState)(null),S=Object(s.a)(v,2),N=S[0],C=S[1],w=Object(a.useState)(!0),R=Object(s.a)(w,2),E=R[0],k=R[1],z=Object(a.useState)([]),D=Object(s.a)(z,2),M=D[0],I=D[1],J=Object(a.useState)(!0),B=Object(s.a)(J,2),G=B[0],P=B[1],U=Object(a.useState)(null),F=Object(s.a)(U,2),_=F[0],V=F[1],q=Object(a.useState)([]),H=Object(s.a)(q,2),K=(H[0],H[1]),Q=Object(a.useState)(null),W=Object(s.a)(Q,2),X=(W[0],W[1]);return Object(a.useEffect)((function(){fetch("http://localhost:8080/api/waitUsers").then((function(e){return e.json()})).then((function(e){p(!1),i(e)})).catch((function(e){p(!1),d(e.message)})),fetch("http://localhost:8080/api/reservationType").then((function(e){return e.json()})).then((function(e){k(!1),y(e)})).catch((function(e){k(!1),C(e.message)})),fetch("http://localhost:8080/api/reservation").then((function(e){return e.json()})).then((function(e){P(!1),I(e)})).catch((function(e){P(!1),V(e.message)})),fetch("http://localhost:8080/api/role").then((function(e){return e.json()})).then((function(e){console.log(e),K(e)})).catch((function(e){X(e.message)}))}),[]),j?Object(b.jsx)("div",{children:"Loading ..... "}):null!==l?Object(b.jsxs)("div",{children:["Error: ",l]}):Object(b.jsxs)(O.a,{container:!0,children:[Object(b.jsx)(O.a,{item:!0,xs:12,children:Object(b.jsx)(m,{})}),Object(b.jsxs)(O.a,{item:!0,container:!0,children:[Object(b.jsx)(O.a,{item:!0,sm:1,xs:0}),Object(b.jsxs)(O.a,{item:!0,sm:10,xs:12,container:!0,children:[Object(b.jsx)(O.a,{item:!0,sm:10,style:{marginLeft:"auto",marginRight:"auto",marginBottom:"20px"},children:Object(b.jsx)(T,{users:n,handleAccepter:function(e){console.log("accpter users is invoked"),fetch("http://localhost:8080/api/waitUsers",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){if(console.log("accepted",t),!t)throw Error("accpter is not performed");i(n.filter((function(t){return!e.includes(t.id)})))})).catch((function(e){return console.log(e)}))},handleDelete:function(e){fetch("http://localhost:8080/api/waitUsers",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){if(console.log("deleted",t),!t)throw Error("delete is not performed");i(n.filter((function(t){return!e.includes(t.id)})))})).catch((function(e){return console.log(e)}))}})}),Object(b.jsx)(O.a,{item:!0,sm:10,style:{marginLeft:"auto",marginRight:"auto",marginTop:"72px",marginBottom:"20px"},children:Object(b.jsx)(L,{resType:x,resErrMess:N,resIsLoading:E,setResType:y,addNewReservationType:function(e,t,n){fetch("http://localhost:8080/api/reservationType",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,size:t})}).then((function(e){return e.json()})).then((function(e){n(),console.log("res type accepter"),console.log(e),y([].concat(Object(r.a)(x),[e]))})).catch((function(e){console.log(e),n()}))},updateNewReservationType:function(e,t,n,a){fetch("http://localhost:8080/api/reservationType",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:e,name:t,size:n})}).then((function(e){return e.json()})).then((function(i){a(),console.log("res type accepter"),console.log(i),y(x.filter((function(a){return a.id===e&&(a.name=t,a.size=n),a})))})).catch((function(e){a(),console.log(e)}))},deleteReservationType:function(e){console.log("here is delete res type"),fetch("http://localhost:8080/api/reservationType",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(e.ok)return console.log("this is something is ok"),e.json();throw new Error("sorry but something went wrong "+e.statusCode)})).then((function(t){console.log("here is result section"),y(x.filter((function(t){if(!e.includes(t.id))return t})))})).catch((function(e){console.log("error "+e)}))}})}),Object(b.jsx)(O.a,{item:!0,sm:10,style:{marginLeft:"auto",marginRight:"auto",marginTop:"72px"},children:Object(b.jsx)(A,{reservation:M,resIsLoading:G,resErrMess:_,handleReservationAcceptation:function(e){fetch("http://localhost:8080/api/reservation",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){I(M.filter((function(t){return e.includes(t.id)&&(t.is_accepted=!0),t})))})).catch((function(e){return console.log(e)}))},handleReservationDeletion:function(e){fetch("http://localhost:8080/api/reservation",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){I(M.filter((function(t){if(!e.includes(t.id))return t})))})).catch((function(e){return console.log(e)}))}})})]}),Object(b.jsx)(O.a,{item:!0,sm:1,xs:0})]})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,192)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),o(e),c(e)}))};c.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),M()}},[[135,1,2]]]);
//# sourceMappingURL=main.18c1fb9d.chunk.js.map